<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Login</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' href='login.css'>
    <script src='controller.js'></script>
</head>
<body>
    <div class="container">
        <h3>Login</h3>
        <form id="loginForm" class="form-control">
            <input type="email" id="loginEmail" class="form-control" placeholder="E-mail" required><br>
            <div class="password-container">
                <input type="password" id="loginSenha" class="form-control" placeholder="Senha" required>
                <label class="show-password">
                    <input type="checkbox" id="showPassword"> Mostrar senha
                </label>
            </div>
            <button onclick="acessar()" class="btn-success" type="button">ACESSAR</button>
        </form>
    </div>

    <script>
        // FUNÇÃO PARA VALIDAR A TELA DE LOGIN
        function acessar() {
            let loginEmail = document.getElementById('loginEmail').value;
            let loginSenha = document.getElementById('loginSenha').value;

            if (!loginEmail || !loginSenha) {
                alert("Favor preencher todos os campos");
                return;
            }

            if (!validarEmail(loginEmail)) {
                alert('Por favor, informe um e-mail válido');
                return;
            }

            window.location.href = 'cad.html';
        }

        function validarEmail(email) {
            // Expressão regular para validar e-mails
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }

        // Função para alternar a visibilidade da senha
        document.getElementById('showPassword').addEventListener('change', function() {
            const passwordField = document.getElementById('loginSenha');
            if (this.checked) {
                passwordField.type = 'text';
            } else {
                passwordField.type = 'password';
            }
        });
    </script>
</body>
</html>
